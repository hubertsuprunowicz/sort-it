{"version":3,"sources":["webpack:///./src/pages/bubble-v.tsx"],"names":["TextHolder","styled","div","BoxHolder","theme","breakpoints","fontSizes","BubbleSortPage","useState","step","setStep","loop","setLoop","compareIndex","setCompareIndex","initToSortArr","Array","from","length","Math","floor","random","reduce","a","b","index","id","value","toSortArr","setToSortArr","data","useStaticQuery","onClick","svg","width","height","viewBox","fill","xmlns","whileHover","rotate","transition","ease","duration","d","allBubbleJson","nodes","text","Object","values","map","isActive","isDisabled","key","old","TOTAL","x"],"mappings":"2FAAA,gIAkBMA,EAAaC,IAAOC,IAAV,uEAAGD,CAAH,mDAMVE,EAAYF,IAAOC,IAAV,sEAAGD,CAAH,sKAQ0BG,IAAMC,YAAY,GAGtCD,IAAME,UAAU,IAkJtBC,UAvIoC,WAAM,MAC/BC,mBAAiB,GAAlCC,EADgD,KAC1CC,EAD0C,OAE/BF,mBAAiB,GAAlCG,EAFgD,KAE1CC,EAF0C,OAGfJ,mBAAS,GAA1CK,EAHgD,KAGlCC,EAHkC,KASjDC,EAHSC,MAAMC,KAAK,CAAEC,OADd,IAC+B,kBAC3CC,KAAKC,MAAsB,GAAhBD,KAAKE,aAEWC,QAC3B,SAACC,EAAGC,EAAGC,GAAP,OAAmBF,EAAEE,GAAS,CAAEC,GAAID,EAAOE,MAAOH,GAAMD,IACxD,IAXqD,EAcrBf,mBAE/BO,GAFIa,EAdgD,KAcrCC,EAdqC,KAkBjDC,EAAOC,YAAe,cA0D5B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAaC,QAVC,WAClBtB,EAAQ,GACRE,EAAQ,GACRE,EAAgB,GAChBe,EAAad,KAOP,kBAAC,IAAOkB,IAAR,CACEC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BACNC,WAAY,CAAEC,OAAQ,KACtBC,WAAY,CAAEC,KAAM,UAAWC,SAAU,KAEzC,0BACEN,KAAK,QACLO,EAAE,+wBAIR,kBAAC5C,EAAD,KACE,4BACG8B,EAAKe,cAAcC,MAAMrC,GAAMsC,KAAM,IACtC,8BAAgB,IAATtC,GAAcE,KAGzB,kBAACR,EAAD,KACE,kBAAC,IAAD,KACG6C,OAAOC,OAAOrB,GAAWsB,KAAI,WAAgBzB,GAAhB,IAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAC5B,kBAAC,IAAD,CACEwB,SAAUtC,IAAiBY,GAASZ,EAAe,IAAMY,EACzD2B,WAAYzC,GArGZ,EAqG4Bc,EAC5B4B,IAAK3B,GAEJC,QAKT,kBAAC,IAAD,CAAYK,QArFoB,WACpC,GAAa,IAATvB,EAKJ,GAAIA,EAAO,EACTC,GAAQ,SAAA4C,GAAG,OAAIA,EAAM,SADvB,CAkBA,GAZI1B,EAAUf,GAAcc,OAASC,EAAUf,EAAe,GAAGc,QAC/DjB,EAAQ,GACRmB,GAAa,SAAAyB,GAAO,MAClB,wBACKA,IADL,MAEGzC,GAAeyC,EAAIzC,EAAe,GAFrC,EAGGA,EAAe,GAAIyC,EAAIzC,GAH1B,QASAF,GAAQ4C,EAGV,OAFA3C,GAAQ,SAAA0C,GAAG,OAAIA,EAAM,UACrB5C,EAAQ,GAIVI,GAAgB,SAAAwC,GAAG,OAAIA,EAAM,KAGzBzC,IAAiB0C,EAAY5C,IAC/BD,EAAQ,GACRE,GAAQ,SAAA0C,GAAG,OAAIA,EAAM,KACrBxC,EAAgB,SAlChBJ,EAAQ,KAoFJ,kBAAC,IAAOuB,IAAR,CACEC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BACNC,WAAY,CAAEiB,EAAG,IACjBf,WAAY,CAAEC,KAAM,UAAWC,SAAU,KAEzC,0BACEC,EAAE,gYACFP,KAAK","file":"component---src-pages-bubble-v-tsx-9ebe628fa0f95b75128c.js","sourcesContent":["import { graphql, StaticQuery, useStaticQuery } from \"gatsby\"\r\nimport { redirectTo, Redirect } from \"@reach/router\"\r\nimport React, {\r\n  createRef,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  forwardRef,\r\n} from \"react\"\r\nimport { Layout } from \"../compontents/Layout\"\r\nimport styled from \"styled-components\"\r\nimport { rem, theme } from \"../theme\"\r\nimport anime from \"animejs\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Box } from \"../compontents/Box\"\r\nimport FlipMove from \"react-flip-move\"\r\nimport { Wrapper, ButtonReset, ButtonNext } from \"../templates/style\"\r\n\r\nconst TextHolder = styled.div`\r\n  margin-top: 40px;\r\n  max-width: 600px;\r\n  height: 140px;\r\n`\r\n\r\nconst BoxHolder = styled.div`\r\n  margin-top: 60px;\r\n\r\n  > div {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n\r\n    @media only screen and (max-width: ${theme.breakpoints[2]}px) {\r\n      margin-top: 0;\r\n      h2 {\r\n        font-size: ${theme.fontSizes[0]}rem !important;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ntype SortValue = {\r\n  id: number\r\n  value: number\r\n}\r\n\r\nconst BubbleSortPage: React.FC<{ path: string }> = () => {\r\n  const [step, setStep] = useState<number>(0)\r\n  const [loop, setLoop] = useState<number>(0)\r\n  const [compareIndex, setCompareIndex] = useState(0)\r\n\r\n  const TOTAL = 5\r\n  const numArr = Array.from({ length: TOTAL }, () =>\r\n    Math.floor(Math.random() * 40)\r\n  )\r\n  const initToSortArr = numArr.reduce<{ [key: number]: SortValue }>(\r\n    (a, b, index) => ((a[index] = { id: index, value: b }), a),\r\n    {}\r\n  )\r\n\r\n  const [toSortArr, setToSortArr] = useState<{\r\n    [key: number]: SortValue\r\n  }>(initToSortArr)\r\n\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      allBubbleJson {\r\n        nodes {\r\n          step\r\n          text\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  const handleBubbleAlgorithmNextStep = () => {\r\n    if (step === 5) {\r\n      setStep(2)\r\n      return\r\n    }\r\n\r\n    if (step < 3) {\r\n      setStep(old => old + 1)\r\n      return\r\n    }\r\n\r\n    // Swap handle\r\n    if (toSortArr[compareIndex].value >= toSortArr[compareIndex + 1].value) {\r\n      setStep(4)\r\n      setToSortArr(old => {\r\n        return {\r\n          ...old,\r\n          [compareIndex]: old[compareIndex + 1],\r\n          [compareIndex + 1]: old[compareIndex],\r\n        }\r\n      })\r\n    }\r\n\r\n    // End of loop\r\n    if (loop >= TOTAL - 2) {\r\n      setLoop(old => old + 2)\r\n      setStep(6)\r\n      return\r\n    }\r\n\r\n    setCompareIndex(old => old + 1)\r\n\r\n    // Start from beginning (-1)\r\n    if (compareIndex === TOTAL - 2 - loop) {\r\n      setStep(5)\r\n      setLoop(old => old + 1)\r\n      setCompareIndex(0)\r\n    }\r\n  }\r\n\r\n  const handleReset = () => {\r\n    setStep(0)\r\n    setLoop(0)\r\n    setCompareIndex(0)\r\n    setToSortArr(initToSortArr)\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Wrapper>\r\n        <ButtonReset onClick={handleReset}>\r\n          <motion.svg\r\n            width=\"70\"\r\n            height=\"70\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            whileHover={{ rotate: 360 }}\r\n            transition={{ ease: \"easeOut\", duration: 0.6 }}\r\n          >\r\n            <path\r\n              fill=\"black\"\r\n              d=\"M3.254,6.572c0.008,0.072,0.048,0.123,0.082,0.187c0.036,0.07,0.06,0.137,0.12,0.187C3.47,6.957,3.47,6.978,3.484,6.988c0.048,0.034,0.108,0.018,0.162,0.035c0.057,0.019,0.1,0.066,0.164,0.066c0.004,0,0.01,0,0.015,0l2.934-0.074c0.317-0.007,0.568-0.271,0.56-0.589C7.311,6.113,7.055,5.865,6.744,5.865c-0.005,0-0.01,0-0.015,0L5.074,5.907c2.146-2.118,5.604-2.634,7.971-1.007c2.775,1.912,3.48,5.726,1.57,8.501c-1.912,2.781-5.729,3.486-8.507,1.572c-0.259-0.18-0.618-0.119-0.799,0.146c-0.18,0.262-0.114,0.621,0.148,0.801c1.254,0.863,2.687,1.279,4.106,1.279c2.313,0,4.591-1.1,6.001-3.146c2.268-3.297,1.432-7.829-1.867-10.101c-2.781-1.913-6.816-1.36-9.351,1.058L4.309,3.567C4.303,3.252,4.036,3.069,3.72,3.007C3.402,3.015,3.151,3.279,3.16,3.597l0.075,2.932C3.234,6.547,3.251,6.556,3.254,6.572z\"\r\n            ></path>\r\n          </motion.svg>\r\n        </ButtonReset>\r\n        <TextHolder>\r\n          <h2>\r\n            {data.allBubbleJson.nodes[step].text}{\" \"}\r\n            <span>{step === 2 && loop}</span>\r\n          </h2>\r\n        </TextHolder>\r\n        <BoxHolder>\r\n          <FlipMove>\r\n            {Object.values(toSortArr).map(({ id, value }, index) => (\r\n              <Box\r\n                isActive={compareIndex === index || compareIndex + 1 === index}\r\n                isDisabled={loop >= TOTAL - index}\r\n                key={id}\r\n              >\r\n                {value}\r\n              </Box>\r\n            ))}\r\n          </FlipMove>\r\n        </BoxHolder>\r\n        <ButtonNext onClick={handleBubbleAlgorithmNextStep}>\r\n          <motion.svg\r\n            width=\"70\"\r\n            height=\"28\"\r\n            viewBox=\"0 0 81 30\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            whileHover={{ x: 50 }}\r\n            transition={{ ease: \"easeOut\", duration: 0.6 }}\r\n          >\r\n            <path\r\n              d=\"M80.4142 16.4142C81.1953 15.6332 81.1953 14.3668 80.4142 13.5858L67.6863 0.857872C66.9052 0.0768236 65.6389 0.0768234 64.8579 0.857872C64.0768 1.63892 64.0768 2.90525 64.8579 3.6863L76.1716 15L64.8579 26.3137C64.0768 27.0948 64.0768 28.3611 64.8579 29.1421C65.6389 29.9232 66.9052 29.9232 67.6863 29.1421L80.4142 16.4142ZM-2.39029e-07 17L79 17L79 13L2.39029e-07 13L-2.39029e-07 17Z\"\r\n              fill=\"black\"\r\n            />\r\n          </motion.svg>\r\n        </ButtonNext>\r\n      </Wrapper>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default BubbleSortPage\r\n"],"sourceRoot":""}